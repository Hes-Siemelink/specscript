${test_database}: db/test.db

Shell: rm -f ${test_database}

Create db:
  db: ${test_database}

Create ticket:
  - db: ${test_database}
    title: Ticket 1
    description: Just for testing
  - db: ${test_database}
    title: Ticket 2
    description: Another one
  - db: ${test_database}
    title: Ticket 3
    description: Its The final ticket


---
# Move ticket TICKET-002 up

Move ticket:
  db: ${test_database}
  id: TICKET-002
  action: up

List tickets:
  db: ${test_database}
  state: all

For each:
  Output: ${item.id}

Expected output:
  - TICKET-002
  - TICKET-001
  - TICKET-003

---
# Move ticket TICKET-001 down

Move ticket:
  db: ${test_database}
  id: TICKET-001
  action: down

List tickets:
  db: ${test_database}
  state: all

For each:
  Output: ${item.id}

Expected output:
  - TICKET-002
  - TICKET-003
  - TICKET-001

---
# Move ticket TICKET-001 to top

Move ticket:
  db: ${test_database}
  id: TICKET-001
  action: top

List tickets:
  db: ${test_database}
  state: all

For each:
  Output: ${item.id}

Expected output:
  - TICKET-001
  - TICKET-002
  - TICKET-003

---
# Move ticket TICKET-001 to bottom

Move ticket:
  db: ${test_database}
  id: TICKET-001
  action: bottom

List tickets:
  db: ${test_database}
  state: all

For each:
  Output: ${item.id}

Expected output:
  - TICKET-002
  - TICKET-003
  - TICKET-001
